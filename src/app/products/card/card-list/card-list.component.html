<div class="container my-4">
    <div class="row g-4">
      <div class="col-md-4" *ngFor="let product of products">
        <div class="card h-100 shadow-sm border-0 rounded-lg">
          <div class="position-relative">
            <img
              [src]="product.images"
              class="card-img-top img-fluid rounded-top"
              alt="{{ product.description }}"
              style="height: 300px; object-fit: cover;"
            />
            <span
              class="badge bg-success position-absolute top-0 end-0 m-2"
              *ngIf="product.stock > 0"
              >En Stock</span
            >
            <span class="badge bg-danger position-absolute top-0 end-0 m-2" *ngIf="product.stock <= 0"
              >Agotado</span
            >
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-primary">{{ product.name }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">{{ product.brand }} - {{ product.category }}</h6>
            <p class="card-text">{{ product.description }}</p>
            <h6 class="text-dark fw-bold">{{ product.price | currency }}</h6>
            <p class="small text-muted">Stock disponible: {{ product.stock }}</p>
  
            <!-- Campo para ingresar la cantidad -->
            <div class="form-group mb-3">
              <label for="quantity-{{ product.id }}" class="form-label">Cantidad</label>
              <input
                type="number"
                class="form-control"
                id="quantity-{{ product.id }}"
                min="1"
                [max]="product.stock"
                [(ngModel)]="product.amount"
                placeholder="1"
              />
            </div>
  
            <div class="mt-auto">
              <!-- Botón para agregar al carrito -->
              <button
                (click)="addToCart(product.id, product.amount)"
                class="btn btn-outline-success w-100 mb-2"
                [disabled]="!product.amount || product.amount < 1 || product.amount > product.stock"
              >
                <i class="fas fa-cart-plus me-2"></i> Agregar al carrito
              </button>
  
              <!-- Botón para editar un producto -->
              <button (click)="updateProduct(product.id)" class="btn btn-outline-primary w-100 mb-2">
                <i class="fas fa-edit me-2"></i> Editar
              </button>
  
              <!-- Botón para eliminar un producto -->
              <button (click)="deleteProduct(product.id)" class="btn btn-outline-danger w-100">
                <i class="fas fa-trash-alt me-2"></i> Eliminar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  